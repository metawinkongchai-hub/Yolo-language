{"ast":null,"code":"import axios from \"axios\";\nimport mqtt from \"mqtt/dist/mqtt\";\nexport default {\n  name: \"App\",\n  data() {\n    return {\n      loading: false,\n      prediction: \"\",\n      thaiText: \"\",\n      errorMsg: \"\",\n      intervalId: null,\n      isTranslating: false,\n      cameraOn: false,\n      stream: null,\n      translations: [],\n      saving: false,\n      mqttClient: null,\n      isModalVisible: false,\n      selectedImageUrl: '',\n      theme: 'light',\n      showDeleteConfirmModal: false,\n      itemToDeleteId: null,\n      deleteMode: null,\n      selectedItems: [],\n      // ===== START: ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤ =====\n      personDetected: true,\n      // ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ß‡πà‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏û‡∏ö‡∏Ñ‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà (default = true ‡∏Ñ‡∏∑‡∏≠‡πÄ‡∏à‡∏≠‡∏Ñ‡∏ô)\n      testVideoUrl: '/test.mp4' // Path ‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠ (‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô /public)\n      // ===== END: ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤ =====\n    };\n  },\n  computed: {\n    // ... (Computed ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n    selectAll: {\n      get() {\n        return this.translations.length > 0 && this.selectedItems.length === this.translations.length;\n      },\n      set(value) {\n        this.selectedItems = value ? this.translations.map(item => item.id) : [];\n      }\n    }\n  },\n  watch: {\n    // ... (Watch ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n    isTranslating(newVal) {\n      if (newVal) {\n        this.startTranslation();\n      } else {\n        this.stopTranslation();\n      }\n    },\n    theme(newTheme) {\n      document.body.className = newTheme + '-theme';\n      localStorage.setItem('theme', newTheme);\n    }\n  },\n  mounted() {\n    this.startCamera();\n    this.loadTranslations();\n    this.connectMQTT();\n    // ... (Theme logic ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n    const savedTheme = localStorage.getItem('theme') || 'light';\n    this.theme = savedTheme;\n    document.body.className = savedTheme + '-theme';\n  },\n  beforeDestroy() {\n    // ... (beforeDestroy ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n    this.stopCamera();\n    if (this.intervalId) clearInterval(this.intervalId);\n    if (this.mqttClient) this.mqttClient.end();\n  },\n  methods: {\n    toggleTheme() {\n      // ... (toggleTheme ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      this.theme = this.theme === 'light' ? 'dark' : 'light';\n    },\n    // ===== START: ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï MQTT =====\n    connectMQTT() {\n      this.mqttClient = mqtt.connect(\"wss://broker.hivemq.com:8884/mqtt\");\n      this.mqttClient.on(\"connect\", () => console.log(\"‚úÖ MQTT connected (Vue)\"));\n      this.mqttClient.on(\"error\", err => console.error(\"‚ùå MQTT error:\", err));\n\n      // Subscribe ‡∏ó‡∏≠‡∏õ‡∏õ‡∏¥‡∏Ñ‡πÄ‡∏î‡∏¥‡∏°\n      this.mqttClient.subscribe(\"hand_sign/translation\", err => {\n        if (!err) console.log(\"üì° Subscribed to hand_sign/translation\");\n      });\n\n      // Subscribe ‡∏ó‡∏≠‡∏õ‡∏õ‡∏¥‡∏Ñ‡πÉ‡∏´‡∏°‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏ä‡πá‡∏Ñ‡∏Ñ‡∏ô\n      this.mqttClient.subscribe(\"hand_sign/status\", err => {\n        if (!err) console.log(\"üì° Subscribed to hand_sign/status\");\n      });\n\n      // ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Message ‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤\n      this.mqttClient.on(\"message\", async (topic, message) => {\n        // 1. ‡πÄ‡∏ä‡πá‡∏Ñ Topic 'status' ‡∏Å‡πà‡∏≠‡∏ô\n        if (topic === \"hand_sign/status\") {\n          const status = message.toString();\n          this.personDetected = status === '1'; // '1' = ‡πÄ‡∏à‡∏≠, '0' = ‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠\n\n          if (!this.personDetected) {\n            // ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠‡∏Ñ‡∏ô ‡πÉ‡∏´‡πâ‡∏•‡πâ‡∏≤‡∏á‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á\n            this.prediction = \"\";\n            this.thaiText = \"\";\n            this.loading = false; // ‡∏´‡∏¢‡∏∏‡∏î loading ‡∏ñ‡πâ‡∏≤‡∏Ñ‡πâ‡∏≤‡∏á‡∏≠‡∏¢‡∏π‡πà\n          }\n          return; // ‡∏à‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Message ‡∏ô‡∏µ‡πâ\n        }\n\n        // 2. ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô Topic 'translation' (‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏°‡∏∑‡πà‡∏≠ Python ‡∏™‡πà‡∏á‡∏°‡∏≤ = ‡∏ã‡∏∂‡πà‡∏á‡∏Ñ‡∏ß‡∏£‡∏à‡∏∞‡∏™‡πà‡∏á‡∏°‡∏≤‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏à‡∏≠‡∏Ñ‡∏ô)\n        if (topic === \"hand_sign/translation\") {\n          // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏≠‡∏µ‡∏Å‡∏ä‡∏±‡πâ‡∏ô‡∏ß‡πà‡∏≤‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏¢‡∏±‡∏á‡πÄ‡∏à‡∏≠‡∏Ñ‡∏ô‡∏≠‡∏¢‡∏π‡πà\n          if (!this.personDetected) return;\n          const text = message.toString();\n          this.prediction = text;\n          this.thaiText = \"\";\n          const translated = await this.translateAuto(text);\n          if (translated) this.thaiText = translated;\n          this.speakLang(text, 'en', () => {\n            if (translated) this.speakLang(translated, 'th');\n          });\n        }\n      });\n    },\n    // ===== END: ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï MQTT =====\n\n    async startCamera() {\n      // ... (startCamera ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      if (this.stream) this.stopCamera();\n      try {\n        this.stream = await navigator.mediaDevices.getUserMedia({\n          video: {\n            width: 1280,\n            height: 720\n          },\n          audio: false\n        });\n        this.$refs.video.srcObject = this.stream;\n        this.cameraOn = true;\n      } catch (err) {\n        console.error(\"Error accessing camera:\", err);\n        this.errorMsg = \"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏Å‡∏•‡πâ‡∏≠‡∏á‡πÑ‡∏î‡πâ\";\n        this.cameraOn = false;\n      }\n    },\n    stopCamera() {\n      // ... (stopCamera ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      if (this.stream) {\n        this.stream.getTracks().forEach(track => track.stop());\n      }\n      this.$refs.video.srcObject = null;\n      this.stream = null;\n      this.cameraOn = false;\n      this.stopTranslation();\n    },\n    toggleCamera() {\n      // ... (toggleCamera ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      if (this.cameraOn) {\n        this.stopCamera();\n      } else {\n        this.startCamera();\n      }\n    },\n    toggleTranslate() {\n      // ... (toggleTranslate ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      if (!this.cameraOn) {\n        this.errorMsg = \"‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÅ‡∏õ‡∏•\";\n        return;\n      }\n      this.isTranslating = !this.isTranslating;\n    },\n    // ===== START: ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï start/stop Translation =====\n    startTranslation() {\n      if (this.intervalId) return;\n      this.isTranslating = true;\n      this.prediction = \"\";\n      this.thaiText = \"\";\n      this.errorMsg = \"\";\n      this.personDetected = true; // <-- ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Ñ‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô '‡πÄ‡∏à‡∏≠‡∏Ñ‡∏ô' ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÅ‡∏õ‡∏•\n      this.intervalId = setInterval(this.sendFrame, 4000); // 4000ms\n      this.sendFrame(); // ‡∏™‡πà‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡∏ó‡∏±‡∏ô‡∏ó‡∏µ\n    },\n    stopTranslation() {\n      if (this.intervalId) {\n        clearInterval(this.intervalId);\n        this.intervalId = null;\n      }\n      this.isTranslating = false;\n      this.loading = false;\n      this.personDetected = true; // <-- ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Ñ‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô '‡πÄ‡∏à‡∏≠‡∏Ñ‡∏ô' ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏´‡∏¢‡∏∏‡∏î\n    },\n    // ===== END: ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï start/stop Translation =====\n\n    async sendFrame() {\n      // ... (sendFrame ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      if (this.loading || this.saving || !this.personDetected) return; // <-- ‡πÄ‡∏û‡∏¥‡πà‡∏° !this.personDetected\n      this.loading = true;\n      this.errorMsg = \"\";\n      const video = this.$refs.video;\n      if (!video || !this.cameraOn || video.readyState < 2) {\n        this.loading = false;\n        return;\n      }\n      const canvas = document.createElement(\"canvas\");\n      canvas.width = video.videoWidth;\n      canvas.height = video.videoHeight;\n      canvas.getContext(\"2d\").drawImage(video, 0, 0, canvas.width, canvas.height);\n      canvas.toBlob(async blob => {\n        if (!blob) {\n          this.loading = false;\n          return;\n        }\n        try {\n          const formData = new FormData();\n          formData.append(\"file\", blob, \"frame.jpg\");\n\n          // ---------- ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å Flask (predict) ----------\n          const response = await axios.post(\"http://localhost:5001/predict\", formData);\n          const english = response.data.prediction;\n\n          // ‡∏ñ‡πâ‡∏≤ Python ‡πÑ‡∏°‡πà‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤ (‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠‡∏ó‡πà‡∏≤)\n          if (!english || english === \"\" || english === \"‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå\") {\n            this.loading = false;\n            return;\n          }\n\n          // ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå\n          this.prediction = english;\n          this.thaiText = \"\";\n          const translated = await this.translateAuto(english);\n          if (translated) this.thaiText = translated;\n\n          // ‡∏û‡∏π‡∏î\n          if (this.isThaiText(english)) {\n            this.speakLang(english, 'th', async () => {\n              if (translated) this.speakLang(translated, 'en');\n            });\n          } else {\n            this.speakLang(english, 'en', async () => {\n              if (translated) this.speakLang(translated, 'th');\n            });\n          }\n\n          // ---------- ‡∏™‡πà‡∏á MQTT (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ----------\n          if (english && english !== \"‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå\") {\n            if (this.mqttClient && this.mqttClient.connected) {\n              this.mqttClient.publish(\"hand_sign/translation\", english);\n            }\n            await this.saveTranslation(blob, english);\n            await this.loadTranslations();\n          }\n        } catch (error) {\n          console.error(\"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏õ‡∏•:\", error);\n          this.errorMsg = \"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡πÅ‡∏õ‡∏•‡∏†‡∏≤‡∏©‡∏≤\";\n        }\n        this.loading = false;\n      }, \"image/jpeg\");\n    },\n    async saveTranslation(imageBlob, predictedText) {\n      // ... (saveTranslation ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      this.saving = true;\n      try {\n        const formData = new FormData();\n        formData.append(\"image\", imageBlob, \"translation.jpg\");\n        formData.append(\"text\", predictedText);\n        await axios.post(\"http://localhost:3000/server/save\", formData);\n      } catch (err) {\n        console.error('Error saving translation:', err);\n      }\n      this.saving = false;\n    },\n    async translateAuto(text) {\n      // ... (translateAuto ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      if (!text || text === \"‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå\") return \"\";\n      try {\n        const sourceLang = this.isThaiText(text) ? 'th' : 'en';\n        const targetLang = sourceLang === 'th' ? 'en' : 'th';\n        const response = await axios.get('https://translate.googleapis.com/translate_a/single', {\n          params: {\n            client: 'gtx',\n            sl: sourceLang,\n            tl: targetLang,\n            dt: 't',\n            q: text\n          }\n        });\n        return response.data[0][0][0];\n      } catch (error) {\n        console.error(\"Translation error:\", error);\n        return \"\";\n      }\n    },\n    isThaiText(text) {\n      // ... (isThaiText ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      const thaiRegex = /[\\u0E00-\\u0E7F]/;\n      return thaiRegex.test(text);\n    },\n    speakLang(text, lang, onEnd) {\n      // ... (speakLang ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      if (!text || !('speechSynthesis' in window)) return;\n      const utterance = new SpeechSynthesisUtterance(text);\n      utterance.lang = lang;\n      if (onEnd) utterance.onend = onEnd;\n      speechSynthesis.speak(utterance);\n    },\n    speakText(text) {\n      // ... (speakText ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      if (this.isThaiText(text)) {\n        this.speakLang(text, 'th');\n      } else {\n        this.speakLang(text, 'en');\n      }\n    },\n    async loadTranslations() {\n      // ... (loadTranslations ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      try {\n        const response = await axios.get(\"http://localhost:3000/server/history\");\n        this.translations = response.data.reverse();\n      } catch (err) {\n        console.error(\"Error loading history:\", err);\n      }\n    },\n    toggleSelectAll() {\n      // ... (toggleSelectAll ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      this.selectAll = !this.selectAll;\n    },\n    toggleSelectItem(id) {\n      const index = this.selectedItems.indexOf(id);\n      if (index > -1) {\n        this.selectedItems.splice(index, 1);\n      } else {\n        this.selectedItems.push(id);\n      }\n    },\n    openDeleteModal(mode, id = null) {\n      // ... (openDeleteModal ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      this.deleteMode = mode;\n      if (id) this.itemToDeleteId = id;\n      this.showDeleteConfirmModal = true;\n    },\n    closeDeleteConfirmModal() {\n      // ... (closeDeleteConfirmModal ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      this.showDeleteConfirmModal = false;\n      this.itemToDeleteId = null;\n      this.deleteMode = null;\n    },\n    async confirmDeletion() {\n      // ... (confirmDeletion ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      try {\n        if (this.deleteMode === 'single') {\n          await axios.delete(`http://localhost:3000/server/delete/${this.itemToDeleteId}`);\n        } else if (this.deleteMode === 'selected') {\n          await axios.post('http://localhost:3000/server/delete-many', {\n            ids: this.selectedItems\n          });\n          this.selectedItems = [];\n        } else if (this.deleteMode === 'all') {\n          await axios.delete('http://localhost:3000/server/all');\n        }\n        await this.loadTranslations();\n      } catch (err) {\n        console.error('Error deleting items:', err);\n      }\n      this.closeDeleteConfirmModal();\n    },\n    formatDate(dateStr) {\n      // ... (formatDate ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      const options = {\n        year: 'numeric',\n        month: 'short',\n        day: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n      };\n      return new Date(dateStr).toLocaleString('th-TH', options);\n    },\n    getImageUrl(path) {\n      // ... (getImageUrl ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      return `http://localhost:3000/saved_images/${path.split('/').pop()}`;\n    },\n    showImageModal(item) {\n      // ... (showImageModal ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      this.selectedImageUrl = this.getImageUrl(item.image_path);\n      this.isModalVisible = true;\n    },\n    closeImageModal() {\n      // ... (closeImageModal ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      this.isModalVisible = false;\n      this.selectedImageUrl = '';\n    },\n    async downloadImage() {\n      // ... (downloadImage ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      try {\n        const response = await axios.get(this.selectedImageUrl, {\n          responseType: 'blob'\n        });\n        const url = window.URL.createObjectURL(new Blob([response.data]));\n        const link = document.createElement('a');\n        link.href = url;\n        link.setAttribute('download', this.selectedImageUrl.split('/').pop());\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n      } catch (error) {\n        console.error('Error downloading image:', error);\n      }\n    },\n    openLink() {\n      // ... (openLink ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      window.open('https://www.facebook.com/profile.php?id=100080649727014', '_blank');\n    }\n  }\n};","map":{"version":3,"names":["axios","mqtt","name","data","loading","prediction","thaiText","errorMsg","intervalId","isTranslating","cameraOn","stream","translations","saving","mqttClient","isModalVisible","selectedImageUrl","theme","showDeleteConfirmModal","itemToDeleteId","deleteMode","selectedItems","personDetected","testVideoUrl","computed","selectAll","get","length","set","value","map","item","id","watch","newVal","startTranslation","stopTranslation","newTheme","document","body","className","localStorage","setItem","mounted","startCamera","loadTranslations","connectMQTT","savedTheme","getItem","beforeDestroy","stopCamera","clearInterval","end","methods","toggleTheme","connect","on","console","log","err","error","subscribe","topic","message","status","toString","text","translated","translateAuto","speakLang","navigator","mediaDevices","getUserMedia","video","width","height","audio","$refs","srcObject","getTracks","forEach","track","stop","toggleCamera","toggleTranslate","setInterval","sendFrame","readyState","canvas","createElement","videoWidth","videoHeight","getContext","drawImage","toBlob","blob","formData","FormData","append","response","post","english","isThaiText","connected","publish","saveTranslation","imageBlob","predictedText","sourceLang","targetLang","params","client","sl","tl","dt","q","thaiRegex","test","lang","onEnd","window","utterance","SpeechSynthesisUtterance","onend","speechSynthesis","speak","speakText","reverse","toggleSelectAll","toggleSelectItem","index","indexOf","splice","push","openDeleteModal","mode","closeDeleteConfirmModal","confirmDeletion","delete","ids","formatDate","dateStr","options","year","month","day","hour","minute","Date","toLocaleString","getImageUrl","path","split","pop","showImageModal","image_path","closeImageModal","downloadImage","responseType","url","URL","createObjectURL","Blob","link","href","setAttribute","appendChild","click","removeChild","openLink","open"],"sources":["src/App.vue"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <header class=\"navbar\">\n      <div class=\"navbar-container\">\n        <a href=\"#\" class=\"navbar-brand\">\n          <span class=\"brand-icon\">ü§ñ</span>\n          <span class=\"brand-text\">‡∏£‡∏∞‡∏ö‡∏ö‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏†‡∏≤‡∏©‡∏≤‡∏°‡∏∑‡∏≠‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ AIoT</span>\n        </a>\n        \n        <button @click=\"toggleTheme\" class=\"theme-toggle-btn\">\n          <span class=\"icon\">{{ theme === 'light' ? 'üåô' : '‚òÄÔ∏è' }}</span>\n        </button>\n        <button @click=\"openLink\" class=\"btn btn-gestures\">\n          <span class=\"icon\">üåê</span> ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤\n        </button>\n      </div>\n    </header>\n\n    <main class=\"container\">\n      <section class=\"main-card\">\n        <div class=\"main-card-header\">\n          <h1 class=\"main-title\">‡∏£‡∏∞‡∏ö‡∏ö‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏†‡∏≤‡∏©‡∏≤‡∏°‡∏∑‡∏≠‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ AIoT</h1>\n          <p class=\"main-subtitle\">‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏•‡πâ‡∏≠‡∏á ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÅ‡∏õ‡∏•‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</p>\n        </div>\n        <div class=\"video-wrapper\">\n          <div class=\"video-container\">\n            <video ref=\"video\" autoplay playsinline :class=\"{'active-camera': cameraOn}\"></video>\n            <div v-if=\"!cameraOn\" class=\"camera-placeholder\">\n              <span class=\"icon\">üì∏</span>\n              <p>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏•‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</p>\n            </div>\n            \n            <video \n              v-if=\"cameraOn && !personDetected\" \n              :src=\"testVideoUrl\" \n              autoplay \n              loop \n              muted \n              playsinline \n              class=\"test-video-player\">\n            </video>\n            </div>\n        </div>\n        <div class=\"controls\">\n          <button @click=\"toggleTranslate\" :class=\"['btn', 'btn-translate', isTranslating ? 'stop' : 'start']\">\n            <span class=\"icon\">{{ isTranslating ? '‚è∏Ô∏è' : '‚ñ∂Ô∏è' }}</span>\n            {{ isTranslating ? '‡∏´‡∏¢‡∏∏‡∏î‡πÅ‡∏õ‡∏•' : '‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÅ‡∏õ‡∏•' }}\n          </button>\n          <button @click=\"toggleCamera\" :class=\"['btn', 'btn-camera', cameraOn ? 'off' : 'on']\">\n              <span class=\"icon\">{{ cameraOn ? 'üõë' : 'üìΩÔ∏è' }}</span>\n            {{ cameraOn ? '‡∏õ‡∏¥‡∏î‡∏Å‡∏•‡πâ‡∏≠‡∏á' : '‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏•‡πâ‡∏≠‡∏á' }}\n          </button>\n        </div>\n        <div class=\"status-area\">\n          <div v-if=\"loading\" class=\"status-box loading-box animated-fade-in\">\n            <div class=\"spinner\"></div>\n            <span>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•...</span>\n          </div>\n          <div v-if=\"prediction && !loading\" class=\"status-box result-box animated-fade-in\">\n            <p class=\"result-label\">‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:</p>\n            <p class=\"result-text\">{{ prediction }}</p>\n            <p v-if=\"thaiText\" class=\"result-thai\">({{ thaiText }})</p>\n          </div>\n          <div v-if=\"errorMsg\" class=\"status-box error-box animated-fade-in\">\n            <p class=\"error-msg\">‚ö†Ô∏è {{ errorMsg }}</p>\n          </div>\n        </div>\n      </section>\n\n      <section class=\"history-card\">\n        <header class=\"history-header\">\n          <h2><span class=\"icon\">üìú</span> ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÅ‡∏õ‡∏•</h2>\n          <div class=\"history-actions\">\n            <button @click=\"toggleSelectAll\" class=\"btn btn-secondary\">\n              {{ selectedItems.length === translations.length && translations.length > 0 ? '‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î' : '‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î' }}\n            </button>\n            <button @click=\"openDeleteModal('selected')\" class=\"btn btn-delete-selected\" :disabled=\"selectedItems.length === 0\">\n              ‡∏•‡∏ö‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å\n            </button>\n            <button @click=\"openDeleteModal('all')\" class=\"btn btn-delete-all\" :disabled=\"translations.length === 0\">\n              ‡∏•‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î\n            </button>\n          </div>\n        </header>\n        <div v-if=\"translations.length > 0\" class=\"history-list\">\n          <div v-for=\"item in translations\" :key=\"item.id\" class=\"history-item\" @click=\"showImageModal(item)\" :class=\"{'selected': selectedItems.includes(item.id)}\">\n            <input \n              type=\"checkbox\" \n              class=\"history-checkbox\"\n              :checked=\"selectedItems.includes(item.id)\" \n              @click.stop \n              @change=\"() => toggleSelectItem(item.id)\"\n            >\n            <img :src=\"getImageUrl(item.image_path)\" alt=\"Hand gesture\" class=\"history-image\">\n            <div class=\"history-info\">\n              <p class=\"history-text\">{{ item.text }}</p>\n              <p class=\"history-date\">{{ formatDate(item.timestamp) }}</p>\n            </div>\n            <button @click.stop=\"openDeleteModal('single', item.id)\" class=\"btn btn-delete-item\">üóëÔ∏è</button>\n          </div>\n        </div>\n        <div v-else class=\"history-empty\">\n          <span class=\"icon\">üì≠</span>\n          <p>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÅ‡∏õ‡∏•</p>\n        </div>\n      </section>\n    </main>\n    \n    <div v-if=\"isModalVisible\" class=\"modal-overlay\" @click=\"closeImageModal\">\n      <div class=\"modal-content\" @click.stop>\n        <img :src=\"selectedImageUrl\" alt=\"Enlarged hand gesture\" class=\"modal-image\">\n        <button @click=\"downloadImage\" class=\"btn btn-download\">\n          <span class=\"icon\">‚¨áÔ∏è</span> ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î\n        </button>\n        <button @click=\"closeImageModal\" class=\"btn btn-close-modal\">‚úñ</button>\n      </div>\n    </div>\n\n    <div v-if=\"showDeleteConfirmModal\" class=\"modal-overlay\" @click=\"closeDeleteConfirmModal\">\n      <div class=\"modal-content delete-confirm-modal\" @click.stop>\n        <span class=\"modal-icon\">‚ö†Ô∏è</span>\n        <h3>‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö</h3>\n        <p v-if=\"deleteMode === 'single'\">‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ô‡∏µ‡πâ?</p>\n        <p v-if=\"deleteMode === 'selected'\">‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö {{ selectedItems.length }} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å?</p>\n        <p v-if=\"deleteMode === 'all'\">‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î? (‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏π‡πâ‡∏Ñ‡∏∑‡∏ô‡πÑ‡∏î‡πâ)</p>\n        <div class=\"modal-actions\">\n          <button @click=\"closeDeleteConfirmModal\" class=\"btn btn-action btn-cancel\">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>\n          <button @click=\"confirmDeletion\" class=\"btn btn-action btn-confirm\">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô</button>\n        </div>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport mqtt from \"mqtt/dist/mqtt\";\n\nexport default {\n  name: \"App\",\n  data() {\n    return {\n      loading: false,\n      prediction: \"\",\n      thaiText: \"\",\n      errorMsg: \"\",\n      intervalId: null,\n      isTranslating: false,\n      cameraOn: false,\n      stream: null,\n      translations: [],\n      saving: false,\n      mqttClient: null,\n      isModalVisible: false,\n      selectedImageUrl: '',\n      theme: 'light',\n      showDeleteConfirmModal: false,\n      itemToDeleteId: null,\n      deleteMode: null,\n      selectedItems: [],\n      \n      // ===== START: ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤ =====\n      personDetected: true, // ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ß‡πà‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏û‡∏ö‡∏Ñ‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà (default = true ‡∏Ñ‡∏∑‡∏≠‡πÄ‡∏à‡∏≠‡∏Ñ‡∏ô)\n      testVideoUrl: '/test.mp4' // Path ‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠ (‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô /public)\n      // ===== END: ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤ =====\n    };\n  },\n  computed: {\n    // ... (Computed ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n    selectAll: {\n      get() {\n        return this.translations.length > 0 && this.selectedItems.length === this.translations.length;\n      },\n      set(value) {\n        this.selectedItems = value ? this.translations.map(item => item.id) : [];\n      }\n    }\n  },\n  watch: {\n    // ... (Watch ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n    isTranslating(newVal) {\n      if (newVal) {\n        this.startTranslation();\n      } else {\n        this.stopTranslation();\n      }\n    },\n    theme(newTheme) {\n      document.body.className = newTheme + '-theme';\n      localStorage.setItem('theme', newTheme);\n    }\n  },\n  mounted() {\n    this.startCamera();\n    this.loadTranslations();\n    this.connectMQTT();\n    // ... (Theme logic ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n    const savedTheme = localStorage.getItem('theme') || 'light';\n    this.theme = savedTheme;\n    document.body.className = savedTheme + '-theme';\n  },\n  beforeDestroy() {\n    // ... (beforeDestroy ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n    this.stopCamera();\n    if (this.intervalId) clearInterval(this.intervalId);\n    if (this.mqttClient) this.mqttClient.end();\n  },\n  methods: {\n    toggleTheme() {\n      // ... (toggleTheme ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      this.theme = this.theme === 'light' ? 'dark' : 'light';\n    },\n\n    // ===== START: ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï MQTT =====\n    connectMQTT() {\n      this.mqttClient = mqtt.connect(\"wss://broker.hivemq.com:8884/mqtt\");\n      this.mqttClient.on(\"connect\", () => console.log(\"‚úÖ MQTT connected (Vue)\"));\n      this.mqttClient.on(\"error\", (err) => console.error(\"‚ùå MQTT error:\", err));\n\n      // Subscribe ‡∏ó‡∏≠‡∏õ‡∏õ‡∏¥‡∏Ñ‡πÄ‡∏î‡∏¥‡∏°\n      this.mqttClient.subscribe(\"hand_sign/translation\", (err) => {\n        if (!err) console.log(\"üì° Subscribed to hand_sign/translation\");\n      });\n      \n      // Subscribe ‡∏ó‡∏≠‡∏õ‡∏õ‡∏¥‡∏Ñ‡πÉ‡∏´‡∏°‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏ä‡πá‡∏Ñ‡∏Ñ‡∏ô\n      this.mqttClient.subscribe(\"hand_sign/status\", (err) => {\n        if (!err) console.log(\"üì° Subscribed to hand_sign/status\");\n      });\n\n      // ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Message ‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤\n      this.mqttClient.on(\"message\", async (topic, message) => {\n        \n        // 1. ‡πÄ‡∏ä‡πá‡∏Ñ Topic 'status' ‡∏Å‡πà‡∏≠‡∏ô\n        if (topic === \"hand_sign/status\") {\n          const status = message.toString();\n          this.personDetected = (status === '1'); // '1' = ‡πÄ‡∏à‡∏≠, '0' = ‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠\n          \n          if (!this.personDetected) {\n            // ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠‡∏Ñ‡∏ô ‡πÉ‡∏´‡πâ‡∏•‡πâ‡∏≤‡∏á‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á\n            this.prediction = \"\"; \n            this.thaiText = \"\";\n            this.loading = false; // ‡∏´‡∏¢‡∏∏‡∏î loading ‡∏ñ‡πâ‡∏≤‡∏Ñ‡πâ‡∏≤‡∏á‡∏≠‡∏¢‡∏π‡πà\n          }\n          return; // ‡∏à‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Message ‡∏ô‡∏µ‡πâ\n        }\n\n        // 2. ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô Topic 'translation' (‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏°‡∏∑‡πà‡∏≠ Python ‡∏™‡πà‡∏á‡∏°‡∏≤ = ‡∏ã‡∏∂‡πà‡∏á‡∏Ñ‡∏ß‡∏£‡∏à‡∏∞‡∏™‡πà‡∏á‡∏°‡∏≤‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏à‡∏≠‡∏Ñ‡∏ô)\n        if (topic === \"hand_sign/translation\") {\n          // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏≠‡∏µ‡∏Å‡∏ä‡∏±‡πâ‡∏ô‡∏ß‡πà‡∏≤‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏¢‡∏±‡∏á‡πÄ‡∏à‡∏≠‡∏Ñ‡∏ô‡∏≠‡∏¢‡∏π‡πà\n          if (!this.personDetected) return; \n          \n          const text = message.toString();\n          this.prediction = text;\n          this.thaiText = \"\";\n          const translated = await this.translateAuto(text);\n          if (translated) this.thaiText = translated;\n          \n          this.speakLang(text, 'en', () => {\n            if (translated) this.speakLang(translated, 'th');\n          });\n        }\n      });\n    },\n    // ===== END: ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï MQTT =====\n    \n    async startCamera() {\n      // ... (startCamera ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      if (this.stream) this.stopCamera();\n      try {\n        this.stream = await navigator.mediaDevices.getUserMedia({ \n          video: { width: 1280, height: 720 }, \n          audio: false \n        });\n        this.$refs.video.srcObject = this.stream;\n        this.cameraOn = true;\n      } catch (err) {\n        console.error(\"Error accessing camera:\", err);\n        this.errorMsg = \"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏Å‡∏•‡πâ‡∏≠‡∏á‡πÑ‡∏î‡πâ\";\n        this.cameraOn = false;\n      }\n    },\n    stopCamera() {\n      // ... (stopCamera ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      if (this.stream) {\n        this.stream.getTracks().forEach(track => track.stop());\n      }\n      this.$refs.video.srcObject = null;\n      this.stream = null;\n      this.cameraOn = false;\n      this.stopTranslation();\n    },\n    toggleCamera() {\n      // ... (toggleCamera ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      if (this.cameraOn) {\n        this.stopCamera();\n      } else {\n        this.startCamera();\n      }\n    },\n    toggleTranslate() {\n      // ... (toggleTranslate ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      if (!this.cameraOn) {\n        this.errorMsg = \"‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÅ‡∏õ‡∏•\";\n        return;\n      }\n      this.isTranslating = !this.isTranslating;\n    },\n\n    // ===== START: ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï start/stop Translation =====\n    startTranslation() {\n      if (this.intervalId) return;\n      this.isTranslating = true;\n      this.prediction = \"\";\n      this.thaiText = \"\";\n      this.errorMsg = \"\";\n      this.personDetected = true; // <-- ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Ñ‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô '‡πÄ‡∏à‡∏≠‡∏Ñ‡∏ô' ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÅ‡∏õ‡∏•\n      this.intervalId = setInterval(this.sendFrame, 4000); // 4000ms\n      this.sendFrame(); // ‡∏™‡πà‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡∏ó‡∏±‡∏ô‡∏ó‡∏µ\n    },\n    stopTranslation() {\n      if (this.intervalId) {\n        clearInterval(this.intervalId);\n        this.intervalId = null;\n      }\n      this.isTranslating = false;\n      this.loading = false;\n      this.personDetected = true; // <-- ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Ñ‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô '‡πÄ‡∏à‡∏≠‡∏Ñ‡∏ô' ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏´‡∏¢‡∏∏‡∏î\n    },\n    // ===== END: ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï start/stop Translation =====\n\n    async sendFrame() {\n      // ... (sendFrame ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      if (this.loading || this.saving || !this.personDetected) return; // <-- ‡πÄ‡∏û‡∏¥‡πà‡∏° !this.personDetected\n      this.loading = true;\n      this.errorMsg = \"\";\n      const video = this.$refs.video;\n      \n      if (!video || !this.cameraOn || video.readyState < 2) {\n        this.loading = false;\n        return;\n      }\n      \n      const canvas = document.createElement(\"canvas\");\n      canvas.width = video.videoWidth;\n      canvas.height = video.videoHeight;\n      canvas.getContext(\"2d\").drawImage(video, 0, 0, canvas.width, canvas.height);\n      \n      canvas.toBlob(async (blob) => {\n        if (!blob) { this.loading = false; return; }\n        try {\n          const formData = new FormData();\n          formData.append(\"file\", blob, \"frame.jpg\");\n\n          // ---------- ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å Flask (predict) ----------\n          const response = await axios.post(\"http://localhost:5001/predict\", formData);\n          \n          const english = response.data.prediction;\n\n          // ‡∏ñ‡πâ‡∏≤ Python ‡πÑ‡∏°‡πà‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤ (‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠‡∏ó‡πà‡∏≤)\n          if (!english || english === \"\" || english === \"‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå\") {\n              this.loading = false;\n              return;\n          }\n\n          // ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå\n          this.prediction = english;\n          this.thaiText = \"\";\n\n          const translated = await this.translateAuto(english);\n          if (translated) this.thaiText = translated;\n\n          // ‡∏û‡∏π‡∏î\n          if (this.isThaiText(english)) {\n            this.speakLang(english, 'th', async () => { if (translated) this.speakLang(translated, 'en'); });\n          } else {\n            this.speakLang(english, 'en', async () => { if (translated) this.speakLang(translated, 'th'); });\n          }\n\n          // ---------- ‡∏™‡πà‡∏á MQTT (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ----------\n          if (english && english !== \"‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå\") {\n            if (this.mqttClient && this.mqttClient.connected) {\n              this.mqttClient.publish(\"hand_sign/translation\", english);\n            }\n            await this.saveTranslation(blob, english);\n            await this.loadTranslations();\n          }\n        } catch (error) {\n          console.error(\"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏õ‡∏•:\", error);\n          this.errorMsg = \"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡πÅ‡∏õ‡∏•‡∏†‡∏≤‡∏©‡∏≤\";\n        }\n        this.loading = false;\n      }, \"image/jpeg\");\n    },\n    async saveTranslation(imageBlob, predictedText) {\n      // ... (saveTranslation ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      this.saving = true;\n      try {\n        const formData = new FormData();\n        formData.append(\"image\", imageBlob, \"translation.jpg\");\n        formData.append(\"text\", predictedText);\n        await axios.post(\"http://localhost:3000/server/save\", formData);\n      } catch (err) {\n        console.error('Error saving translation:', err);\n      }\n      this.saving = false;\n    },\n    async translateAuto(text) {\n      // ... (translateAuto ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      if (!text || text === \"‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå\") return \"\";\n      try {\n        const sourceLang = this.isThaiText(text) ? 'th' : 'en';\n        const targetLang = sourceLang === 'th' ? 'en' : 'th';\n        \n        const response = await axios.get('https://translate.googleapis.com/translate_a/single', {\n          params: {\n            client: 'gtx',\n            sl: sourceLang,\n            tl: targetLang,\n            dt: 't',\n            q: text,\n          },\n        });\n        return response.data[0][0][0];\n      } catch (error) {\n        console.error(\"Translation error:\", error);\n        return \"\";\n      }\n    },\n    isThaiText(text) {\n      // ... (isThaiText ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      const thaiRegex = /[\\u0E00-\\u0E7F]/;\n      return thaiRegex.test(text);\n    },\n    speakLang(text, lang, onEnd) {\n      // ... (speakLang ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      if (!text || !('speechSynthesis' in window)) return;\n      const utterance = new SpeechSynthesisUtterance(text);\n      utterance.lang = lang;\n      if (onEnd) utterance.onend = onEnd;\n      speechSynthesis.speak(utterance);\n    },\n    speakText(text) {\n      // ... (speakText ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      if (this.isThaiText(text)) {\n        this.speakLang(text, 'th');\n      } else {\n        this.speakLang(text, 'en');\n      }\n    },\n    async loadTranslations() {\n      // ... (loadTranslations ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      try {\n        const response = await axios.get(\"http://localhost:3000/server/history\");\n        this.translations = response.data.reverse();\n      } catch (err) {\n        console.error(\"Error loading history:\", err);\n      }\n    },\n    toggleSelectAll() {\n      // ... (toggleSelectAll ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      this.selectAll = !this.selectAll;\n    },\n    toggleSelectItem(id) {\n      const index = this.selectedItems.indexOf(id);\n      if (index > -1) {\n        this.selectedItems.splice(index, 1);\n      } else {\n        this.selectedItems.push(id);\n      }\n    },\n    openDeleteModal(mode, id = null) {\n      // ... (openDeleteModal ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      this.deleteMode = mode;\n      if (id) this.itemToDeleteId = id;\n      this.showDeleteConfirmModal = true;\n    },\n    closeDeleteConfirmModal() {\n      // ... (closeDeleteConfirmModal ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      this.showDeleteConfirmModal = false;\n      this.itemToDeleteId = null;\n      this.deleteMode = null;\n    },\n    async confirmDeletion() {\n      // ... (confirmDeletion ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      try {\n        if (this.deleteMode === 'single') {\n          await axios.delete(`http://localhost:3000/server/delete/${this.itemToDeleteId}`);\n        } else if (this.deleteMode === 'selected') {\n          await axios.post('http://localhost:3000/server/delete-many', { ids: this.selectedItems });\n          this.selectedItems = [];\n        } else if (this.deleteMode === 'all') {\n          await axios.delete('http://localhost:3000/server/all');\n        }\n        await this.loadTranslations();\n      } catch (err) {\n        console.error('Error deleting items:', err);\n      }\n      this.closeDeleteConfirmModal();\n    },\n    formatDate(dateStr) {\n      // ... (formatDate ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      const options = { year: 'numeric', month: 'short', day: 'numeric', hour: '2-digit', minute: '2-digit' };\n      return new Date(dateStr).toLocaleString('th-TH', options);\n    },\n    getImageUrl(path) {\n      // ... (getImageUrl ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      return `http://localhost:3000/saved_images/${path.split('/').pop()}`;\n    },\n    showImageModal(item) {\n      // ... (showImageModal ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      this.selectedImageUrl = this.getImageUrl(item.image_path);\n      this.isModalVisible = true;\n    },\n    closeImageModal() {\n      // ... (closeImageModal ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      this.isModalVisible = false;\n      this.selectedImageUrl = '';\n    },\n    async downloadImage() {\n      // ... (downloadImage ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      try {\n        const response = await axios.get(this.selectedImageUrl, { responseType: 'blob' });\n        const url = window.URL.createObjectURL(new Blob([response.data]));\n        const link = document.createElement('a');\n        link.href = url;\n        link.setAttribute('download', this.selectedImageUrl.split('/').pop());\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n      } catch (error) {\n        console.error('Error downloading image:', error);\n      }\n    },\n    openLink() {\n      // ... (openLink ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...\n      window.open('https://www.facebook.com/profile.php?id=100080649727014', '_blank');\n    }\n  }\n};\n</script>\n\n\n\n<style>\n/* ... (CSS ‡∏™‡πà‡∏ß‡∏ô‡πÉ‡∏´‡∏ç‡πà‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ... */\n@import url('https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700&display=swap');\n\n/* ... (CSS Variables ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ... */\n:root {\n  --font-family: 'Sarabun', sans-serif;\n  \n  --light-bg: #f4f7f6;\n  --light-card-bg: #ffffff;\n  --light-text-dark: #2c3e50;\n  --light-text-light: #5a7a94;\n  --light-border-color: #e6eaf0;\n  --light-shadow: 0 10px 30px rgba(0, 0, 0, 0.07);\n\n  --dark-bg: #1a1b26;\n  --dark-card-bg: #24253a;\n  --dark-text-dark: #e0e0e0;\n  --dark-text-light: #a0a0a0;\n  --dark-border-color: #444a57;\n  --dark-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);\n\n  --primary-color: #3498db;\n  --primary-hover: #2980b9;\n  --danger-color: #e74c3c;\n  --danger-hover: #c0392b;\n\n  --radius-sm: 4px;\n  --radius-md: 8px;\n  --radius-lg: 16px;\n}\n\n/* ... (Theme styles) ... */\nbody.light-theme {\n  --bg-color: var(--light-bg);\n  --card-bg-color: var(--light-card-bg);\n  --text-dark: var(--light-text-dark);\n  --text-light: var(--light-text-light);\n  --border-color: var(--light-border-color);\n  --shadow: var(--light-shadow);\n}\n\nbody.dark-theme {\n  --bg-color: var(--dark-bg);\n  --card-bg-color: var(--dark-card-bg);\n  --text-dark: var(--dark-text-dark);\n  --text-light: var(--dark-text-light);\n  --border-color: var(--dark-border-color);\n  --shadow: var(--dark-shadow);\n}\n\n/* ... (Base styles) ... */\n* { box-sizing: border-box; margin: 0; padding: 0; }\nbody {\n  font-family: var(--font-family);\n  background-color: var(--bg-color);\n  color: var(--text-dark);\n  transition: background-color 0.3s, color 0.3s;\n}\n#app {\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n/* ... (Navbar) ... */\n.navbar {\n  background-color: var(--card-bg-color);\n  box-shadow: 0 2px 10px rgba(0,0,0,0.05);\n  padding: 1rem 2rem;\n  position: sticky;\n  top: 0;\n  z-index: 1000;\n}\n.navbar-container {\n  max-width: 1400px;\n  margin: 0 auto;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.navbar-brand {\n  display: flex;\n  align-items: center;\n  text-decoration: none;\n  color: var(--text-dark);\n}\n.brand-icon { font-size: 2rem; margin-right: 0.5rem; }\n.brand-text { font-size: 1.25rem; font-weight: 600; }\n\n/* ... (Container) ... */\n.container {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  gap: 2rem;\n  padding: 2rem;\n  max-width: 1400px;\n  margin: 0 auto;\n}\n\n/* ... (Cards) ... */\n.main-card, .history-card {\n  background-color: var(--card-bg-color);\n  border-radius: var(--radius-lg);\n  box-shadow: var(--shadow);\n  padding: 2.5rem;\n  transition: background-color 0.3s;\n}\n.main-card {\n  flex: 2;\n  min-width: 400px;\n  max-width: 800px;\n}\n.history-card {\n  flex: 1;\n  min-width: 300px;\n  max-width: 500px;\n  align-self: flex-start;\n}\n\n/* ... (Main Card Content) ... */\n.main-card-header { text-align: center; margin-bottom: 2rem; }\n.main-title { font-size: 2.25rem; font-weight: 700; margin-bottom: 0.5rem; }\n.main-subtitle { font-size: 1.1rem; color: var(--text-light); }\n.video-wrapper {\n  margin-bottom: 2rem;\n}\n/* ===== START: ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï CSS ===== */\n.video-container {\n  position: relative; /* ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç: ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡∏ã‡πâ‡∏≠‡∏ô‡∏ó‡∏±‡∏ö‡πÑ‡∏î‡πâ */\n  width: 100%;\n  padding-top: 56.25%; /* 16:9 Aspect Ratio */\n  background-color: #000;\n  border-radius: var(--radius-lg);\n  overflow: hidden;\n  box-shadow: 0 5px 15px rgba(0,0,0,0.1);\n}\nvideo, .camera-placeholder {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\nvideo {\n  object-fit: cover;\n  transform: scaleX(-1); /* ‡∏Å‡∏•‡∏±‡∏ö‡∏î‡πâ‡∏≤‡∏ô‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏£‡∏∞‡∏à‡∏Å */\n  opacity: 0;\n  transition: opacity 0.5s;\n}\nvideo.active-camera {\n  opacity: 1;\n}\n\n/* CSS ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠ test.mp4 ‡∏ó‡∏µ‡πà‡∏ã‡πâ‡∏≠‡∏ô‡∏ó‡∏±‡∏ö */\n.test-video-player {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  z-index: 10; /* ‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡∏Å‡∏•‡πâ‡∏≠‡∏á */\n  border-radius: var(--radius-lg);\n  opacity: 1;\n  transform: scaleX(1); /* ‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠ mp4 ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏•‡∏±‡∏ö‡∏î‡πâ‡∏≤‡∏ô */\n}\n/* ===== END: ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï CSS ===== */\n\n.camera-placeholder {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: var(--text-light);\n}\n.camera-placeholder .icon { font-size: 3rem; margin-bottom: 0.5rem; }\n\n/* ... (Controls) ... */\n.controls {\n  display: flex;\n  gap: 1.5rem;\n  justify-content: center;\n  margin-bottom: 2rem;\n}\n.btn {\n  /* ... (Base btn styles) ... */\n  padding: 0.75rem 1.5rem;\n  font-size: 1rem;\n  font-weight: 600;\n  border: none;\n  border-radius: var(--radius-md);\n  cursor: pointer;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  box-shadow: 0 4px 10px rgba(0,0,0,0.05);\n  font-family: var(--font-family);\n}\n.btn:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 6px 15px rgba(0,0,0,0.1);\n}\n.btn-translate.start { background-color: var(--primary-color); color: white; }\n.btn-translate.start:hover { background-color: var(--primary-hover); }\n.btn-translate.stop { background-color: var(--danger-color); color: white; }\n.btn-translate.stop:hover { background-color: var(--danger-hover); }\n\n.btn-camera.on { background-color: #2ecc71; color: white; }\n.btn-camera.on:hover { background-color: #27ae60; }\n.btn-camera.off { background-color: #f39c12; color: white; }\n.btn-camera.off:hover { background-color: #e67e22; }\n\n.theme-toggle-btn {\n  /* ... (Theme toggle btn styles) ... */\n  background: var(--border-color);\n  color: var(--text-dark);\n  border: none;\n  border-radius: 50%;\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.25rem;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n.theme-toggle-btn:hover { background-color: var(--primary-color); color: white; }\n\n/* ... (Status Area) ... */\n.status-area {\n  min-height: 100px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: var(--bg-color);\n  border-radius: var(--radius-md);\n  padding: 1.5rem;\n}\n.status-box {\n  width: 100%;\n  text-align: center;\n}\n/* ... (Animations) ... */\n.animated-fade-in {\n  animation: fadeIn 0.5s ease;\n}\n@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }\n/* ... (Spinner) ... */\n.loading-box { display: flex; align-items: center; justify-content: center; gap: 1rem; color: var(--text-light); }\n.spinner {\n  width: 24px;\n  height: 24px;\n  border: 3px solid var(--border-color);\n  border-top-color: var(--primary-color);\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n}\n@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }\n/* ... (Result Box) ... */\n.result-box {\n  background-color: var(--card-bg-color);\n  border: 1px solid var(--border-color);\n  border-radius: var(--radius-md);\n  padding: 1rem;\n}\n.result-label { font-size: 0.9rem; color: var(--text-light); margin-bottom: 0.5rem; }\n.result-text { font-size: 1.75rem; font-weight: 700; color: var(--primary-color); }\n.result-thai { font-size: 1.1rem; color: var(--text-dark); margin-top: 0.25rem; }\n/* ... (Error Box) ... */\n.error-box { color: var(--danger-color); font-weight: 500; }\n\n/* ... (History Card) ... */\n.history-header {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  margin-bottom: 1.5rem;\n}\n.history-header h2 { font-size: 1.5rem; display: flex; align-items: center; gap: 0.5rem; }\n.history-actions {\n  display: flex;\n  gap: 0.5rem;\n}\n.btn-secondary, .btn-delete-selected, .btn-delete-all {\n  padding: 0.5rem 1rem;\n  font-size: 0.875rem;\n  flex: 1;\n}\n.btn-secondary { background-color: var(--border-color); color: var(--text-dark); }\n.btn-delete-selected { background-color: #f39c12; color: white; }\n.btn-delete-all { background-color: var(--danger-color); color: white; }\n.btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none; box-shadow: 0 4px 10px rgba(0,0,0,0.05); }\n\n.history-list {\n  max-height: 600px;\n  overflow-y: auto;\n  padding-right: 0.5rem;\n}\n/* ... (History Item) ... */\n.history-item {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  padding: 1rem;\n  border-bottom: 1px solid var(--border-color);\n  transition: background-color 0.2s;\n  border-radius: var(--radius-md);\n  cursor: pointer;\n}\n.history-item:hover { background-color: var(--bg-color); }\n.history-item.selected { background-color: var(--primary-color); color: white; }\n.history-item.selected .history-date { color: #f0f0f0; }\n\n.history-checkbox {\n  width: 18px;\n  height: 18px;\n  cursor: pointer;\n}\n.history-image {\n  width: 60px;\n  height: 60px;\n  object-fit: cover;\n  border-radius: var(--radius-md);\n  border: 1px solid var(--border-color);\n}\n.history-info { flex: 1; }\n.history-text { font-size: 1.1rem; font-weight: 600; }\n.history-item.selected .history-text { color: white; }\n.history-date { font-size: 0.85rem; color: var(--text-light); }\n.btn-delete-item {\n  background: transparent;\n  color: var(--text-light);\n  border: none;\n  font-size: 1.2rem;\n  padding: 0.5rem;\n}\n.btn-delete-item:hover { color: var(--danger-color); }\n.history-item.selected .btn-delete-item { color: white; }\n\n.history-empty {\n  text-align: center;\n  padding: 3rem;\n  color: var(--text-light);\n}\n.history-empty .icon { font-size: 3rem; display: block; margin-bottom: 1rem; }\n\n/* ... (Modals) ... */\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.7);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 2000;\n  backdrop-filter: blur(5px);\n}\n.modal-content {\n  position: relative;\n  background: var(--card-bg-color);\n  padding: 2rem;\n  border-radius: var(--radius-lg);\n  max-width: 90vw;\n  max-height: 90vh;\n  box-shadow: 0 10px 40px rgba(0,0,0,0.3);\n  text-align: center;\n}\n.modal-image {\n  max-width: 100%;\n  max-height: 70vh;\n  object-fit: contain;\n  border-radius: var(--radius-md);\n  margin-bottom: 1rem;\n}\n.btn-close-modal {\n  position: absolute;\n  top: 1rem;\n  right: 1rem;\n  background: var(--border-color);\n  color: var(--text-dark);\n  border: none;\n  border-radius: 50%;\n  width: 30px;\n  height: 30px;\n  font-size: 1rem;\n  font-weight: bold;\n}\n.btn-download {\n  background-color: var(--primary-color);\n  color: white;\n}\n/* ... (Delete Confirm Modal) ... */\n.delete-confirm-modal {\n  padding: 2.5rem;\n  max-width: 400px;\n}\n.modal-icon {\n  font-size: 3rem;\n  display: block;\n  margin-bottom: 1rem;\n  color: var(--danger-color);\n}\n.delete-confirm-modal h3 {\n  font-size: 1.5rem;\n  margin-bottom: 0.5rem;\n  color: var(--text-dark);\n}\n.delete-confirm-modal p {\n  font-size: 1rem;\n  color: var(--text-light);\n  margin-bottom: 1.5rem;\n}\n.modal-actions {\n  display: flex;\n  gap: 1rem;\n  width: 100%;\n  margin-top: 1rem;\n}\n.btn-action {\n  flex: 1;\n  padding: 0.75rem 1rem;\n  font-size: 1rem;\n  font-weight: 600;\n  font-family: var(--font-family);\n  border-radius: var(--radius-md);\n  border: none;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n.btn-cancel {\n  background-color: transparent;\n  color: var(--text-light);\n  border: 1px solid var(--border-color);\n}\n.btn-cancel:hover {\n  background-color: var(--border-color);\n  color: var(--text-dark);\n}\n.btn-confirm {\n  background-color: #ef4444;\n  color: white;\n}\n.btn-confirm:hover {\n  transform: scale(1.05);\n}\n.btn-gestures {\n  background: linear-gradient(45deg, #b91081, #0fa7ff);\n  color: white;\n}\n.btn-gestures:hover {\n  transform: translateY(-3px) scale(1.05);\n  box-shadow: 0 10px 15px rgba(0, 0, 0, 0.2);\n}\n\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}